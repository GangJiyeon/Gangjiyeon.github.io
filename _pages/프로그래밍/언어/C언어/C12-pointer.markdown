---
title: "[Cμ–Έμ–΄] ν¬μΈν„°(pointer)κΈ°μ΄"
tags:
    - Cμ–Έμ–΄κΈ°μ΄
date: "2024-12-12"
thumbnail: "/assets/img/thumbnail/book.jpg"
---
μ΄λ²μ—λ” Cμ–Έμ–΄μ ν¬μΈν„°(pointer)κΈ°μ΄μ— λ€ν•΄ μ•μ•„λ³΄μ.    



---
## **ν¬μΈν„° λ³€μ**
### **λ©”λ¨λ¦¬ μ£Όμ†μ™€ μ—°μ‚°μ&**
**1) μ£Όμ†λ€**
* λ©”λ¨λ¦¬ κ³µκ°„ : `1byte`λ§λ‹¤ κ³ μ ν• μ£Όμ†(address)κ°€ μμ
* λ©”λ¨λ¦¬ μ£Όμ† 
	* 0λ¶€ν„° 1byteλ§λ‹¤ 1μ”© μ¦κ°€
	* μ €μ¥μ¥μ†μΈ λ³€μμ΄λ¦„κ³Ό ν•¨κ» κΈ°μ–µ(μ €μ¥)μ¥μ†λ¥Ό μ°Έμ΅°ν•λ” λ λ‹¤λ¥Έ λ°©λ²•
	* μ£Όμ† μ •λ³΄λ¥Ό μ΄μ©ν•΄ μ£Όμ†κ°€ κ°€λ¦¬ν‚¤λ” λ³€μμ κ°’ μ°Έμ΅° κ°€λ¥
	* μ£Όμ† μ •λ³΄μ μ΄μ›ƒν•(μ΄μ „ λλ” μ΄ν›„) μ €μ¥κ³µκ°„μ κ°’ μ°Έμ΅° κ°€λ¥

<br>

**2) μ£Όμ†μ—°μ‚°μ `&`**
* `&(ampersand)` 
	* ν”Όμ—°μ‚°μμΈ λ³€μμ λ©”λ¨λ¦¬ μ£Όμ†λ¥Ό λ°ν™ν•λ” μ£Όμ†μ—°μ‚°μ
	* μ‚¬μ© : `&variable_name`, λ³€μμ—λ§ μ‚¬μ© κ°€λ¥(μƒμλ‚ ν‘ν„μ‹μ—λ” μ‚¬μ©ν•  μ μ—†μ)
	* ν•μ‹μ μ–΄λ¬Έμ `%p` : λ³€μμ μ£Όμ†κ°’ μ¶λ ¥ μ‹ μ‚¬μ©

<br>

**3) μλ„μ° 10 64λΉ„νΈ μ‹μ¤ν…μ—μ„ λ³€μμ μ£Όμ†κ°’**
* λ³€μμ μ£Όμ†κ°’ : 8λ°”μ΄νΈ(64λΉ„νΈ), 16μ§„μμ 16κ° μλ¦Ώμλ΅ μ¶λ ¥

```c
int input = 100;

printf("μ…λ ¥ κ°’ : %d\n", input);				//100
printf("μ£Όμ† κ°’ : %p(16μ§„μ)\n", &input);			//16μ§„μ κ°’
printf("μ£Όμ† κ°’ : %llu(10μ§„μ)\n", (uintptr_t)&input);	//10μ§„μ κ°’
printf("μ£Όμ† κ°’ ν¬κΈ° : %zu\n", sizeof(&input));		//8(λ°”μ΄νΈ), %zd κ°€λ¥

```

<br>
<br>

### **ν¬μΈν„° λ³€μ**
**1) ν¬μΈν„° λ³€μλ€**
* λ³€μμ μ£Όμ†κ°’μ„ μ €μ¥ν•λ” λ³€μ(λ°λ“μ‹ μ£Όμ†κ°’μ€ ν¬μΈν„° λ³€μμ— μ €μ¥!)
* μΌλ° λ³€μμ™€ κµ¬λ³„λλ©° μ„ μ–Έ λ°©λ²•μ΄ λ‹¤λ¦„
* ν¬μΈν„°λ³€μ = ν¬μΈν„°
* 64λΉ„νΈ μλ„μ° 10μ—μ„ ν¬μΈν„° λ³€μλ” λ¨λ‘ 8λ°”μ΄νΈ

<br>

**2) ν¬μΈν„° λ³€μ μ„ μ–Έ**      
π‘‰ μ—°μ‚°μ `*(asterisk)`λ¥Ό μλ£ν•κ³Ό λ³€μμ΄λ¦„ μ‚¬μ΄μ— μ‚½μ…ν•΄ μ„ μ–Έ

```c
//μλ£ν•κ³Ό λ³€μλ… μ‚¬μ΄μ— ν¬μΈν„°(*)κ°€ μ„μΉν•λ©΄ λ¨
//μ½κΈ° : μλ£ν• ν¬μΈν„° λ³€μλ…
//μ΄κΈ°ν™”ν•μ§€ μ•μΌλ©΄ μ“°λ κΈ°(garbage) κ°’ μ €μ¥
μλ£ν• *λ³€μμ΄λ¦„;		
μλ£ν•*λ³€μμ΄λ¦„;
μλ£ν• * λ³€μμ΄λ¦„;
μλ£ν•* λ³€μμ΄λ¦„;

//μμ‹ - λ¨λ‘ κ°€λ¥
int *ptrint;			
short*ptrshort;
char * ptrchar;
double* ptrdouble;
```

<br>

**3) μ£Όμ†κ°’ λ€μ…**
* μ΄κΈ°ν™”ν•μ§€ μ•μΌλ©΄ μ“°λ κΈ° κ°’μ΄ μ €μ¥
* μ£Όμ†κ°’ λ€μ…ν•κΈ°

```c
//1. μ„ μ–Έ ν›„ μ΄κΈ°ν™”
int data = 100;
int *str_data;
str_data = &data;	//ν¬μΈν„°λ³€μ str_dataλ” λ³€μ dataλ¥Ό κ°€λ¦¬ν‚¨λ‹¤(μ°Έμ΅° reference)ν•λ‹¤.

//2. μ„ μ–Έκ³Ό μ΄κΈ°ν™” λ™μ‹μ—
int data = 100;
int *str_data = &data;
```

<br>

**4) μ¶λ ¥**
* ν•μ‹μ μ–΄λ¬Έμ `%p` μ‚¬μ©

```c
int data = 100;
int *str_data = &data;

printf("data κ°’ : %d\n", data);
printf("data μ£Όμ†κ°’(%p) = ν¬μΈν„° str_date κ°’ (%p)\n", &data, str_data);
printf("ν¬μΈν„° str_date μ£Όμ†κ°’ : %p\n", &str_data);
```


<br>
<br>

## **κ°„μ ‘μ—°μ‚°μ `*`μ™€ ν¬μΈν„° μ—°μ‚°**
### **λ‹¤μ–‘ν• ν¬μΈν„° λ³€μ μ„ μ–Έ**
**1) μ—¬λ¬ ν¬μΈν„° λ³€μ μ„ μ–Έ**
* μ—¬λ¬κ°μ ν¬μΈν„° λ³€μλ¥Ό ν• λ²μ— μ„ μ–Έν•κΈ°

```c
//μ½¤λ§ μ΄ν›„μ— λ³€μλ§λ‹¤ *κΈ°μ 
int *ptr1, *ptr2, *ptr2;
```

* νΉλ³„ν• μ΄κΈ°κ°’μ΄ μ—†λ” κ²½μ° μ“°λ κΈ°κ°’ μ €μ¥ => `0λ² μ£Όμ†κ°’μΈ NULL`λ΅ μ΄κΈ°κ°’ μ§€μ •

```c
int *ptr = NULL;
```

<br>

**2) NULL** 
* ν—¤λ”νμΌ stdio.hμ— μ •μλμ–΄ μλ” ν¬μΈν„° μƒμ     
* 0λ²μ§€ μ£Όμ†κ°’μ„ μλ―Έ

```c
#define NULL ((void *)0)
//(void*) : μ•„μ§ κ²°μ •λμ§€ μ•μ€ μλ£ν•μ μ£Όμ†
//=> NULLμ΄ μ €μ¥λ ν¬μΈν„° λ³€μλ” μ•„λ¬΄ λ³€μλ„ κ°€λ¦¬ν‚¤κ³  μμ§€ μ•μμ„ μλ―Έ
//=> μ•„μ§ μ λ³΄λ ν¬μΈν„°μ΄λ―€λ΅ λ¨λ“  μ ν•μ ν¬μΈν„° κ°’μ„ μ €μ¥ν•  μ μλ” ν¬μΈν„°ν•
```

<br>

**3) κ°„μ ‘μ—°μ‚°μ `*`**
* μ—­μ°Έμ΅° : ν¬μΈν„° λ³€μκ°€ κ°–λ” μ£Όμ†λ΅ κ·Έ μ£Όμ†μ μ›λ λ³€μλ¥Ό μ°Έμ΅°
* `κ°„μ ‘μ—°μ‚°μ(indirection operator) *` μ‚¬μ©
* `*ν¬μΈν„°` : ν•΄λ‹Ή ν¬μΈν„°κ°€ κ°€μ§„ μ£Όμ†μ μ›λ λ³€μ, r-valueμ™€ l-value
* `&λ³€μ` : μ£Όμ†κ°’, r-value

```c
int data = 100;
int *ptr = &data;

printf("μ—­μ°Έμ΅° : %d", *ptr);	//*ptr = data
```

<br>
<br>

### **ν¬μΈν„° λ³€μμ μ—°μ‚°**
**1) μ£Όμ†μ—°μ‚°**
* ν¬μΈν„° λ³€μλ” κ°„λ‹¨ν• λ”ν•κΈ°μ™€ λΊ„μ… μ—°μ‚°μΌλ΅ μ΄μ›ƒν• λ³€μμ μ£Όμ† μ—°μ‚° μν–‰
* ν¬μΈν„°κ°€ κ°€λ¦¬ν‚¤λ” λ³€μ μλ£ν•μ μƒλ€μ μΈ μ„μΉμ— λ€ν• μ—°μ‚°
* ν¬μΈν„°μ— μ €μ¥λ μ£Όμ†κ°’μ μ—°μ‚°μΌλ΅ μ΄μ›ƒν• μ΄μ „, μ΄ν›„μ λ‹¤λ¥Έ λ³€μ μ°Έμ΅°

```c
p+1;
- pκ°€ κ°€λ¦¬ν‚¤λ” μλ£ν•μ λ‹¤μ μ£Όμ†
- μ‹¤μ  μ£Όμ†κ°’ : p + [μλ£ν•ν¬κΈ°(λ°”μ΄νΈ)]

p+i;
- pκ°€ κ°€λ¦¬ν‚¤λ” μλ£ν•μ λ‹¤μ iλ²μ§Έ μ£Όμ†
- μ‹¤μ  μ£Όμ†κ°’ : p + [μλ£ν•ν¬κΈ°(λ°”μ΄νΈ)] * i
```

<br>
<br>
<br>

---
## **λ‹¤μ¤‘ν¬μΈν„°μ™€ λ°°μ—΄ν¬μΈν„°**
### **λ³€μμ λ‚΄λ¶€ μ €μ¥ν‘ν„κ³Ό ν¬μΈν„° λ³€μμ ν•λ³€ν™**
**1) λ³€μμ λ‚΄λ¶€ μ €μ¥ ν‘ν„**
* λ¦¬ν‹€ μ—”λ””μ•(little endian) : μ‹μ‘ μ£Όμ†κ°’μ—μ„ μ €μ¥ κ°’μ ν•μ„ λ°”μ΄νΈλ¶€ν„° μ €μ¥ν•λ” λ°©μ‹
* λΉ… μ—”λ””μ•(big endian) : μ‹μ‘ μ£Όμ†κ°’μ—μ„ μ €μ¥ κ°’μ μƒμ„ λ°”μ΄νΈλ¶€ν„° μ €μ¥ν•λ” λ°©μ‹

<br>

**2) λ…μ‹μ  ν•λ³€ν™**
* ν¬μΈν„°λ³€μλ” λ™μΌν• μλ£ν•λΌλ¦¬λ§ λ€μ…μ΄ κ°€λ¥
* μλ™ ν•λ³€ν™μ΄ λ¶κ°€λ¥ν•λ―€λ΅, λ…μ‹μ  ν•λ³€ν™μ„ μν–‰ν•΄ λ€μ… κ°€λ¥
* λ™μΌν• λ©”λ¨λ¦¬μ λ‚΄μ©μ΄ ν¬μΈν„°μ μλ£ν•μ— λ”°λΌ μ°Έμ΅° λ‹¨μ„κ°€ λ‹¬λΌμ§

```c
int value = 0x44434241;
int *pi = &value;

//λ¶κ°€λ¥
//=>pcκ°€ κ°€λ¦¬ν‚¤λ” μ£Όμ†μ—μ„λ¶€ν„° 1λ°”μ΄νΈ ν¬κΈ°μ charν• μλ£λ¥Ό μ°Έμ΅°ν•κ² λ‹¤
//char *pc = &value;	

//κ°€λ¥
char *pc = (char*)&value;
```

<br>

### **λ‹¤μ¤‘ ν¬μΈν„°μ™€ μ¦κ°μ—°μ‚°μμ ν™μ©**
**1) λ‹¤μ¤‘ν¬μΈν„°**
* λ‹¤μ¤‘ν¬μΈν„°: ν¬μΈν„°μ ν¬μΈν„°
* μ΄μ¤‘ν¬μΈν„°: ν¬μΈν„° λ³€μμ μ£Όμ†κ°’μ„ κ°–λ” λ³€μ

```c
int i = 20;
int *pi = &i;		//pi => ν¬μΈν„°, *pi = i
int **dpi = &pi;	//dpi => μ΄μ¤‘ν¬μΈν„°, **dpi = i
```

<br>

**2) κ°„μ ‘μ—°μ‚°μμ™€ μ¦κ°μ—°μ‚°μ ν™μ©** 
* `*p++` = `*(p++)` β‰  `(*p)++`
* `++*p` = `++(*p)`
* `*++p` = *`(++p)`

```c
int a[] = {10, 20};
int *p = &a[0];
```

|μ—°μ‚°μ‹|κ²°κ³Όκ°’|`*p`|μ—°μ‚° ν›„ μ£Όμ†κ°’ pμ΄λ™|μ—°μ‚° ν›„ `*p`|
|---|---|---|---|---|
|`*p++`, `*(p++)`|10 |`*p` : pμ κ°„μ ‘μ°Έμ΅° κ°’|`p+1` : p λ‹¤μ μ£Όμ†|20|
|`(*p)++`|10|`*p` : pμ κ°„μ ‘μ°Έμ΅° κ°’|`p` : λ³€ν™”μ—†μ|11|
|`*++p`, *(++p)|20|`*(p+1)` : (p+1) κ°„μ ‘μ°Έμ΅° κ°’|`p+1` : p λ‹¤μ μ£Όμ†|20|
|`++*p`, `++(*p)`|11|`*p+1` : *pμ— 1 λ”ν•κΈ°|`p` : λ³€ν™”μ—†μ|11|

<br>

### **ν¬μΈν„° μƒμ**
**1) λ€μ…μ—°μ‚°μμ l-value μ‚¬μ© μ ν•**

```c
int i = 10, j = 20;

//λ°©λ²• 1 - pκ°€ κ°€λ¦¬ν‚¤λ” λ³€μμΈ iλ¥Ό μƒμλ΅ μ„ μ–Έ
const int *p = &i;	//μ¤λ¥ : *p = 20;
int const *p = &i;	//μ¤λ¥ : *p = 20;

//λ°©λ²• 2 - pμ— μ €μ¥λλ” μ΄κΈ° μ£Όμ†κ°’μ„ μƒμλ΅ μ„ μ–Έ
int* const p = &i;	//μ¤λ¥ : p = &j;
```


<br>
<br>
<br>

---
## **λ°°μ—΄κ³Ό ν¬μΈν„°**
### **1μ°¨μ› λ°°μ—΄κ³Ό ν¬μΈν„°**  
**1) λ°°μ—΄ μ΄λ¦„μ„ μ΄μ©ν• μ°Έμ΅°**

```c
int array[] = {10, 20, 30};
```

* λ°°μ—΄μ μ£Όμ†κ°’(λ°°μ—΄ μ²« λ²μ§Έ μ›μ†μ μ£Όμ†κ°’) : `array,` `&array[0]`
* λ°°μ—΄μ μ²« λ²μ§Έ μ›μ† μ €μ¥ κ°’ : `*array`, `array[0]`
* λ°°μ—΄ (i + 1)λ² μ§Έ μ›μ† μ£Όμ†κ°’ : `(array + i)`, `&array[i]`
* λ°°μ—΄ (i + 1)λ² μ§Έ μ›μ† μ €μ¥ κ°’: `*(array + i)`, `array[i]`

<br>

**2) ν¬μΈν„° λ³€μλ¥Ό μ΄μ©ν• λ°°μ—΄μ μ›μ† μ°Έμ΅°**

```c
/* ν¬μΈν„° λ³€μλ¥Ό μ΄μ©ν•΄ μ£Όμ†κ°’μ„ μ΄λ™ν•λ©΄μ„ λ°°μ—΄ μ›μ†λ¥Ό μμ°¨μ μΌλ΅ μ°Έμ΅°ν•λ” λ°©λ²• */
int a[3] = {5, 10, 15};
int *p = a;	//a = &a[0]

//1. ν¬μΈν„°λ³€μpλ¥Ό μ‚¬μ©ν•΄ λ°°μ—΄ μ›μ† κ°’ μ°Έμ΅°
printf("%d %d %d\n", *(p), *(p+1), *(p+2));

//2. ν¬μΈν„°λ³€μpλ¥Ό λ°°μ—΄μ²λΌ μ‚¬μ©
printf("%d %d %d\n", p[0], p[1], p[2]);
```

<br>
<br>

### **2μ°¨μ› λ°°μ—΄κ³Ό κ°„μ ‘μ—°μ‚°μ, λ°°μ—΄ ν¬μΈν„°λ¥Ό ν™μ©ν• λ‹¤μ–‘ν• μ ‘κ·Ό**
**1) λ°°μ—΄μ΄λ¦„κ³Ό κ°„μ ‘μ—°μ‚°μλ΅ μ°Έμ΅°**
* 2μ°¨μ› λ°°μ—΄μ΄λ¦„
	* λ°°μ—΄μ„ λ€ν‘
	* `array[0]`μ„ μΉ΄λ¦¬ν‚¤λ” ν¬μΈν„° μƒμ
* 2μ°¨μ› λ°°μ—΄μ΄λ¦„[0]
	* λ°°μ—΄μ μ²« ν–‰μ„ λ€ν‘
 	* μ²« λ²μ§Έ μ›μ†μΈ `array[0][0]`μ μ£Όμ†κ°’ `&array[0][0]`

```c
int array[][3] = {
			{1, 2, 3},
			{4, 5, 6}
		 };
```

|λ°°μ—΄|λ°°μ—΄μ›μ†μ°Έμ΅°|λ°°μ—΄μ›μ†μ°Έμ΅°|
|---|---|---|
|array[0][0]|`*(*(array + 0) + 0)`|`*(*array+0)`|
|array[0][1]|`*(*(array + 0) + 1)`|`*(*array+1)`|
|array[0][2]|`*(*(array + 0) + 2)`|`*(*array+2)`|
|array[1][0]|`*(*(array + 1) + 0)`|`*(*array+3)`|
|array[1][1]|`*(*(array + 1) + 1)`|`*(*array+4)`|
|array[1][2]|`*(*(array + 1) + 2)`|`*(*array+5)`|

<br>
<br>

### **2μ°¨μ› λ°°μ—΄ ν¬μΈν„°**
**1) 2μ°¨μ› λ°°μ—΄ ν¬μΈν„° μ„ μ–Έ**

```c
//1. μ„ μ–Έ ν›„ μ΄κΈ°ν™”
μ›μ†μλ£ν• (*λ³€μμ΄λ¦„)[λ°°μ—΄ν¬κΈ°];
λ³€μμ΄λ¦„ = λ°°μ—΄μ΄λ¦„;

//2. μ„ μ–Έκ³Ό μ΄κΈ°ν™” λ™μ‹μ—
μ›μ†μλ£ν• (*λ³€μμ΄λ¦„)[λ°°μ—΄ν¬κΈ°] = λ°°μ—΄μ΄λ¦„;

int ary[][4] = {5, 7, 6, 2, 7, 8, 1, 3};
int (*p)[4] = ara;	//μ—΄μ΄ 4μΈ λ°°μ—΄μ„ κ°€λ¦¬ν‚¤λ” ν¬μΈν„°

int a[][4] = {
		{1, 2, 3, 4,},
		{10, 11, 12, 13},
		{20, 21, 22, 23}
	     };
int(*p)[4] = a;		//μ—΄μ΄ 4μΈ λ°°μ—΄μ„ κ°€λ¦¬ν‚¤λ” ν¬μΈν„°
```

<br>
<br>

### **ν¬μΈν„° λ°°μ—΄**
**1) ν¬μΈν„° λ°°μ—΄(array of pointer)μ΄λ€?**
* ν¬μΈν„° λ°°μ—΄ : μ£Όμ†κ°’μ„ μ €μ¥ν•λ” ν¬μΈν„°λ¥Ό λ°°μ—΄μ›μ†λ΅ ν•λ” λ°°μ—΄
* μ„ μ–Έ : `μλ£ν• *λ³€μμ΄λ¦„[λ°°μ—΄ν¬κΈ°];`

```c
int a = 5, b = 7, c = 9;
int *pa[3] = {&a, &b, &c};	//ν¬κΈ°κ°€ 3μΈ ν¬μΈν„° λ°°μ—΄
```


